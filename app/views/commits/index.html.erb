<div class="container">
  <h1><%= pluralize @total_count, "commit" %></h1>

  <%= form_tag commits_path, method: :get do %>
    <%=
      select_tag(
        :batch,
        options_for_select(@batches, params[:batch]),
        prompt: "Batch number…",
      )
    %>
    <%=
      select_tag(
        :username,
        options_for_select(@usernames, params[:username]),
        prompt: "User…",
      )
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>

  <ul class="commit-listing mt-3">
    <% @commits.each do |commit| %>
      <%=
        render(
          partial: "commits/commit",
          locals: {
            commit: commit,
            vote: @session_votes_by_commit_id[commit.id],
          }
        )
      %>
    <% end %>
  </ul>

  <%== pagy_bootstrap_nav @pagy %>
</div>
